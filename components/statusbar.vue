<template>
  <div class="absolute top-0 w-full inset-x-0 max-w-md mx-auto font-700 px-5 py-2 flex items-center justify-between">
    <p class="text-lg">{{ currentTime }}</p>
    <div class="flex items-center justify-center gap-x-3">
      <svg width="20" height="13" viewBox="0 0 20 13" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4.49103 6.6709C7.5127 3.73823 12.4118 3.73823 15.4335 6.6709M7.22664 9.32592C8.73748 7.85959 11.187 7.85959 12.6979 9.32592M9.96225 11.981L9.97828 11.9654M1.74023 4.32416C6.28081 -0.082662 13.6425 -0.082662 18.1831 4.32416" stroke="white" stroke-width="1.82699" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.02473 14.0086H4.20259C4.20259 14.3258 4.38502 14.6147 4.6714 14.751C4.95777 14.8873 5.29702 14.8467 5.54317 14.6467L5.02473 14.0086ZM5.02473 0.991364L5.54317 0.353287C5.29702 0.153287 4.95777 0.112713 4.6714 0.249019C4.38502 0.385326 4.20259 0.674203 4.20259 0.991364L5.02473 0.991364ZM9.36382 4.51687L9.83058 5.19367C10.0437 5.04668 10.1752 4.80787 10.1853 4.54916C10.1955 4.29045 10.0832 4.04206 9.88226 3.8788L9.36382 4.51687ZM9.36382 10.4831L9.88226 11.1212C10.0832 10.9579 10.1955 10.7095 10.1853 10.4508C10.1752 10.1921 10.0437 9.95332 9.83058 9.80632L9.36382 10.4831ZM1.69479 4.19543C1.321 3.93765 0.809012 4.03169 0.551229 4.40547C0.293445 4.77926 0.387484 5.29125 0.761269 5.54903L1.69479 4.19543ZM0.761269 9.45097C0.387484 9.70875 0.293445 10.2207 0.551229 10.5945C0.809012 10.9683 1.321 11.0623 1.69479 10.8046L0.761269 9.45097ZM11.3651 5.35843C10.9607 5.15183 10.4655 5.31212 10.2589 5.71645C10.0523 6.12077 10.2126 6.61603 10.6169 6.82264L11.3651 5.35843ZM10.6169 8.17738C10.2126 8.38398 10.0523 8.87924 10.2589 9.28357C10.4655 9.6879 10.9607 9.84819 11.3651 9.64159L10.6169 8.17738ZM12.8209 3.53756C12.4299 3.30686 11.9258 3.43688 11.6951 3.82796C11.4644 4.21905 11.5944 4.7231 11.9855 4.9538L12.8209 3.53756ZM11.9855 10.0462C11.5944 10.2769 11.4644 10.781 11.6951 11.172C11.9258 11.5631 12.4299 11.6931 12.8209 11.4624L11.9855 10.0462ZM5.84687 14.0086V7.50935H4.20259V14.0086H5.84687ZM5.84687 7.50935V7.49065H4.20259V7.50935H5.84687ZM5.84687 7.49065V0.991364H4.20259V7.49065H5.84687ZM4.50629 1.62944L8.84538 5.15495L9.88226 3.8788L5.54317 0.353287L4.50629 1.62944ZM5.54317 14.6467L9.88226 11.1212L8.84538 9.84505L4.50629 13.3706L5.54317 14.6467ZM9.83058 9.80632L5.50505 6.8232L4.57153 8.1768L8.89706 11.1599L9.83058 9.80632ZM5.50502 6.82318L5.49147 6.81383L4.558 8.16746L4.57156 8.17681L5.50502 6.82318ZM5.49149 6.81385L1.69479 4.19543L0.761269 5.54903L4.55797 8.16745L5.49149 6.81385ZM8.89706 3.84008L4.57153 6.8232L5.50505 8.1768L9.83058 5.19367L8.89706 3.84008ZM4.57156 6.82318L4.558 6.83253L5.49147 8.18616L5.50502 8.17681L4.57156 6.82318ZM4.55797 6.83255L0.761269 9.45097L1.69479 10.8046L5.49149 8.18615L4.55797 6.83255ZM10.6169 6.82264C10.9388 6.98715 11.0899 7.25536 11.0899 7.50001H12.7342C12.7342 6.5401 12.1443 5.75661 11.3651 5.35843L10.6169 6.82264ZM11.0899 7.50001C11.0899 7.74466 10.9388 8.01287 10.6169 8.17738L11.3651 9.64159C12.1443 9.24341 12.7342 8.45992 12.7342 7.50001H11.0899ZM11.9855 4.9538C12.8418 5.4589 13.4232 6.40691 13.4232 7.5H15.0674C15.0674 5.8119 14.1671 4.33165 12.8209 3.53756L11.9855 4.9538ZM13.4232 7.5C13.4232 8.59309 12.8418 9.5411 11.9855 10.0462L12.8209 11.4624C14.1671 10.6684 15.0674 9.1881 15.0674 7.5H13.4232Z" fill="white"/>
      </svg>
      <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2.01172 13.3464V12.0472M5.90929 13.3464V8.7992M9.80685 13.3464V5.55122M13.7044 13.3464V1.65366" stroke="white" stroke-width="2.74048" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <div class="relative size-6 flex items-center justify-center">
        <svg width="19" height="14" viewBox="0 0 19 13" fill="none" xmlns="http://www.w3.org/2000/svg" class="size-12">
          <path d="M17.5298 7.41349V6.04325M3.14697 11.981H14.1089C15.3197 11.981 16.3013 10.9994 16.3013 9.78857V3.21143C16.3013 2.00061 15.3197 1.01904 14.1089 1.01904H3.14697C1.93615 1.01904 0.95459 2.00061 0.95459 3.21143V9.78857C0.95459 10.9994 1.93615 11.981 3.14697 11.981Z" stroke="white" stroke-width="1.82699" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <p class="absolute inset-x-0 inset-y-0 flex items-center justify-center text-2 text-center">{{ batteryLevel }}</p>
      </div>
    </div>
  </div>
</template>

<script setup>
const currentTime = ref('');
const batteryLevel = ref('');

function updateTime() {
  const now = new Date();
  const hours = now.getHours().toString().padStart(2, '0');
  const minutes = now.getMinutes().toString().padStart(2, '0');
  currentTime.value = `${hours}:${minutes}`;
}

function updateBattery() {
  if ('getBattery' in navigator) {
    navigator.getBattery().then(function(battery) {
      function updateLevel() {
        batteryLevel.value = `${(battery.level * 100).toFixed(0)}`;
      }

      updateLevel();
      battery.addEventListener('levelchange', updateLevel);
    });
  } else {
    batteryLevel.value = '100';
  }
}

onMounted(() => {
  updateTime();
  updateBattery();
  setInterval(updateTime, 60000);
});
</script>